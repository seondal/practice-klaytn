"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.AccountKeyFactory = exports.AccountKey = void 0;
const field_1 = require("../field");
const util_1 = require("../util");
// A typed AccountKey for Klatyn is a FieldSet.
// https://docs.klaytn.foundation/content/klaytn/design/accounts
class AccountKey extends field_1.FieldSet {
}
exports.AccountKey = AccountKey;
class _AccountKeyFactory extends field_1.FieldSetFactory {
    constructor() {
        const requiredFields = ["type"];
        super(requiredFields);
    }
    fromObject(fields) {
        // In AccountKeyWeightedMultiSig, alias weightedPublicKeys -> keys for compatibility.
        // 'weightedPublicKeys' is used in caver and klaytn node.
        // 'keys' is used in this SDK.
        if (fields.type == util_1.AccountKeyType.WeightedMultiSig && fields.weightedPublicKeys) {
            fields.keys = fields.weightedPublicKeys;
        }
        return super.fromObject(fields);
    }
}
exports.AccountKeyFactory = new _AccountKeyFactory();
//# sourceMappingURL=factory.js.map